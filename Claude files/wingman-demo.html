<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wingman Demo</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Icon Components (simplified versions)
        const CheckCircle2 = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
        );

        const Plus = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        );

        const Trash2 = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            </svg>
        );

        const Target = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <circle cx="12" cy="12" r="10"></circle>
                <circle cx="12" cy="12" r="6"></circle>
                <circle cx="12" cy="12" r="2"></circle>
            </svg>
        );

        const Users = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
        );

        const Send = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="22" y1="2" x2="11" y2="13"></line>
                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
        );

        const WingmanApp = () => {
            const [currentView, setCurrentView] = useState('welcome');
            const [currentUser, setCurrentUser] = useState(null);
            const [goals, setGoals] = useState([]);
            const [partnerGoals, setPartnerGoals] = useState([]);
            const [comments, setComments] = useState({});
            const [newGoalText, setNewGoalText] = useState('');
            const [commentText, setCommentText] = useState('');

            const partner = {
                name: 'Alex Johnson',
                bio: 'Software developer looking to build better habits and stay accountable',
                avatar: 'üë®‚Äçüíª'
            };

            const handleCreateProfile = (e) => {
                e.preventDefault();
                const formData = new FormData(e.target);
                setCurrentUser({
                    name: formData.get('name'),
                    bio: formData.get('bio'),
                    avatar: 'üë§'
                });
                setCurrentView('dashboard');
            };

            const addGoal = () => {
                if (newGoalText.trim()) {
                    setGoals([...goals, { id: Date.now(), text: newGoalText, completed: false }]);
                    setNewGoalText('');
                }
            };

            const toggleGoal = (id) => {
                setGoals(goals.map(g => g.id === id ? { ...g, completed: !g.completed } : g));
            };

            const deleteGoal = (id) => {
                setGoals(goals.filter(g => g.id !== id));
            };

            const addComment = (goalId) => {
                if (commentText.trim()) {
                    setComments({
                        ...comments,
                        [goalId]: [...(comments[goalId] || []), { text: commentText, from: currentUser?.name }]
                    });
                    setCommentText('');
                }
            };

            useEffect(() => {
                if (currentView === 'partner' && partnerGoals.length === 0) {
                    setPartnerGoals([
                        { id: 1, text: 'Exercise 3 times this week', completed: true },
                        { id: 2, text: 'Complete project documentation', completed: false },
                        { id: 3, text: 'Read for 30 minutes daily', completed: true }
                    ]);
                }
            }, [currentView]);

            // Welcome View
            if (currentView === 'welcome') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4">
                        <div className="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full">
                            <div className="text-center mb-8">
                                <div className="text-6xl mb-4">ü§ù</div>
                                <h1 className="text-4xl font-bold text-gray-800 mb-2">Wingman</h1>
                                <p className="text-gray-600">Your accountability partner platform</p>
                            </div>
                            
                            <div className="space-y-4 mb-8 text-left">
                                <div className="flex items-start gap-3">
                                    <div className="text-2xl">‚úÖ</div>
                                    <div>
                                        <h3 className="font-semibold text-gray-800">Set Weekly Goals</h3>
                                        <p className="text-sm text-gray-600">Define what you want to accomplish</p>
                                    </div>
                                </div>
                                <div className="flex items-start gap-3">
                                    <div className="text-2xl">üë•</div>
                                    <div>
                                        <h3 className="font-semibold text-gray-800">Get Matched</h3>
                                        <p className="text-sm text-gray-600">Connect with an accountability partner</p>
                                    </div>
                                </div>
                                <div className="flex items-start gap-3">
                                    <div className="text-2xl">üí¨</div>
                                    <div>
                                        <h3 className="font-semibold text-gray-800">Share & Support</h3>
                                        <p className="text-sm text-gray-600">Check in weekly and motivate each other</p>
                                    </div>
                                </div>
                            </div>

                            <button
                                onClick={() => setCurrentView('createProfile')}
                                className="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition"
                            >
                                Get Started
                            </button>
                        </div>
                    </div>
                );
            }

            // Create Profile View
            if (currentView === 'createProfile') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4">
                        <div className="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full">
                            <h2 className="text-3xl font-bold text-gray-800 mb-6">Create Your Profile</h2>
                            <form onSubmit={handleCreateProfile} className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Your Name</label>
                                    <input
                                        type="text"
                                        name="name"
                                        required
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                                        placeholder="John Doe"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">About You</label>
                                    <textarea
                                        name="bio"
                                        required
                                        rows="4"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                                        placeholder="Tell us what you're looking to accomplish..."
                                    />
                                </div>
                                <button
                                    type="submit"
                                    className="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition"
                                >
                                    Create Profile & Find Partner
                                </button>
                            </form>
                        </div>
                    </div>
                );
            }

            // Main Dashboard
            const completedGoals = goals.filter(g => g.completed).length;
            const progressPercentage = goals.length > 0 ? (completedGoals / goals.length) * 100 : 0;

            return (
                <div className="min-h-screen bg-gray-50">
                    {/* Header */}
                    <header className="bg-white shadow-sm border-b border-gray-200">
                        <div className="max-w-6xl mx-auto px-4 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-2">
                                    <span className="text-2xl">ü§ù</span>
                                    <h1 className="text-2xl font-bold text-gray-800">Wingman</h1>
                                </div>
                                <div className="flex items-center gap-4">
                                    <span className="text-2xl">{currentUser?.avatar}</span>
                                    <span className="font-medium text-gray-700">{currentUser?.name}</span>
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Navigation */}
                    <nav className="bg-white border-b border-gray-200">
                        <div className="max-w-6xl mx-auto px-4">
                            <div className="flex gap-1">
                                <button
                                    onClick={() => setCurrentView('dashboard')}
                                    className={`px-6 py-3 font-medium transition flex items-center gap-2 ${
                                        currentView === 'dashboard'
                                            ? 'text-indigo-600 border-b-2 border-indigo-600'
                                            : 'text-gray-600 hover:text-gray-800'
                                    }`}
                                >
                                    <Target size={18} />
                                    My Goals
                                </button>
                                <button
                                    onClick={() => setCurrentView('partner')}
                                    className={`px-6 py-3 font-medium transition flex items-center gap-2 ${
                                        currentView === 'partner'
                                            ? 'text-indigo-600 border-b-2 border-indigo-600'
                                            : 'text-gray-600 hover:text-gray-800'
                                    }`}
                                >
                                    <Users size={18} />
                                    Partner's Goals
                                </button>
                            </div>
                        </div>
                    </nav>

                    {/* Content */}
                    <main className="max-w-6xl mx-auto px-4 py-8">
                        {currentView === 'dashboard' && (
                            <div className="space-y-6">
                                {/* Partner Info Card */}
                                <div className="bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white">
                                    <h3 className="text-lg font-semibold mb-2">Your Accountability Partner</h3>
                                    <div className="flex items-center gap-3">
                                        <span className="text-4xl">{partner.avatar}</span>
                                        <div>
                                            <p className="font-semibold text-xl">{partner.name}</p>
                                            <p className="text-indigo-100 text-sm">{partner.bio}</p>
                                        </div>
                                    </div>
                                </div>

                                {/* Goals Section */}
                                <div className="bg-white rounded-xl shadow-sm p-6">
                                    <h2 className="text-2xl font-bold text-gray-800 mb-4">My Weekly Goals</h2>
                                    
                                    {/* Add Goal Input */}
                                    <div className="flex gap-2 mb-6">
                                        <input
                                            type="text"
                                            value={newGoalText}
                                            onChange={(e) => setNewGoalText(e.target.value)}
                                            onKeyPress={(e) => e.key === 'Enter' && addGoal()}
                                            placeholder="Add a new goal for this week..."
                                            className="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                                        />
                                        <button
                                            onClick={addGoal}
                                            className="bg-indigo-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-indigo-700 transition flex items-center gap-2"
                                        >
                                            <Plus size={20} />
                                            Add
                                        </button>
                                    </div>

                                    {/* Goals List */}
                                    <div className="space-y-3">
                                        {goals.length === 0 ? (
                                            <div className="text-center py-12 text-gray-400">
                                                <Target size={48} className="mx-auto mb-3 opacity-50" />
                                                <p>No goals yet. Add your first goal above!</p>
                                            </div>
                                        ) : (
                                            goals.map((goal) => (
                                                <div
                                                    key={goal.id}
                                                    className="flex items-center gap-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition"
                                                >
                                                    <button
                                                        onClick={() => toggleGoal(goal.id)}
                                                        className={`flex-shrink-0 ${
                                                            goal.completed ? 'text-green-600' : 'text-gray-400'
                                                        }`}
                                                    >
                                                        <CheckCircle2 size={24} />
                                                    </button>
                                                    <span
                                                        className={`flex-1 ${
                                                            goal.completed ? 'line-through text-gray-500' : 'text-gray-800'
                                                        }`}
                                                    >
                                                        {goal.text}
                                                    </span>
                                                    <button
                                                        onClick={() => deleteGoal(goal.id)}
                                                        className="text-red-500 hover:text-red-700 transition"
                                                    >
                                                        <Trash2 size={18} />
                                                    </button>
                                                </div>
                                            ))
                                        )}
                                    </div>

                                    {/* Progress Bar */}
                                    {goals.length > 0 && (
                                        <div className="mt-6 pt-6 border-t border-gray-200">
                                            <div className="flex items-center justify-between text-sm mb-2">
                                                <span className="text-gray-600">
                                                    Progress: {completedGoals} of {goals.length} completed
                                                </span>
                                                <span className="font-semibold text-indigo-600">
                                                    {Math.round(progressPercentage)}%
                                                </span>
                                            </div>
                                            <div className="h-2 bg-gray-200 rounded-full overflow-hidden">
                                                <div
                                                    className="h-full bg-indigo-600 transition-all duration-500"
                                                    style={{ width: `${progressPercentage}%` }}
                                                />
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}

                        {currentView === 'partner' && (
                            <div className="space-y-6">
                                {/* Partner Header */}
                                <div className="bg-white rounded-xl shadow-sm p-6">
                                    <div className="flex items-center gap-4 mb-4">
                                        <span className="text-5xl">{partner.avatar}</span>
                                        <div>
                                            <h2 className="text-2xl font-bold text-gray-800">{partner.name}</h2>
                                            <p className="text-gray-600">{partner.bio}</p>
                                        </div>
                                    </div>
                                </div>

                                {/* Partner's Goals */}
                                <div className="bg-white rounded-xl shadow-sm p-6">
                                    <h3 className="text-xl font-bold text-gray-800 mb-4">This Week's Goals</h3>
                                    <div className="space-y-4">
                                        {partnerGoals.map((goal) => (
                                            <div key={goal.id} className="border border-gray-200 rounded-lg p-4">
                                                <div className="flex items-start gap-3 mb-3">
                                                    <CheckCircle2
                                                        size={24}
                                                        className={goal.completed ? 'text-green-600' : 'text-gray-400'}
                                                    />
                                                    <span
                                                        className={`flex-1 ${
                                                            goal.completed ? 'text-gray-600' : 'text-gray-800 font-medium'
                                                        }`}
                                                    >
                                                        {goal.text}
                                                    </span>
                                                </div>

                                                {/* Comments Section */}
                                                <div className="ml-9 space-y-2">
                                                    {comments[goal.id]?.map((comment, idx) => (
                                                        <div key={idx} className="bg-indigo-50 rounded p-3 text-sm">
                                                            <span className="font-semibold text-indigo-900">{comment.from}: </span>
                                                            <span className="text-gray-700">{comment.text}</span>
                                                        </div>
                                                    ))}

                                                    {/* Add Comment */}
                                                    <div className="flex gap-2 mt-3">
                                                        <input
                                                            type="text"
                                                            value={commentText}
                                                            onChange={(e) => setCommentText(e.target.value)}
                                                            onKeyPress={(e) => e.key === 'Enter' && addComment(goal.id)}
                                                            placeholder="Add encouragement or feedback..."
                                                            className="flex-1 px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                                                        />
                                                        <button
                                                            onClick={() => addComment(goal.id)}
                                                            className="bg-indigo-600 text-white px-4 py-2 rounded text-sm font-medium hover:bg-indigo-700 transition flex items-center gap-1"
                                                        >
                                                            <Send size={16} />
                                                            Send
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<WingmanApp />);
    </script>
</body>
</html>